<!DOCTYPE html>
<html>
<head>
    <title>Console Test</title>
</head>
<body>
    <h1>Console Logging Test</h1>
    <p>Check the browser console (F12) for logs</p>
    
    <script>
        console.log('üîÑ Testing console logging...');
        
        // Simulate the helper functions
        const API_BASE_URL = "http://localhost:5001";
        
        const getImageUrl = (imagePath) => {
            console.log('üñºÔ∏è Processing image path:', imagePath);
            if (!imagePath) {
                console.log('‚ùå No image path provided');
                return null;
            }
            if (imagePath.startsWith('http')) {
                console.log('‚úÖ Image path is already full URL:', imagePath);
                return imagePath;
            }
            const fullUrl = `${API_BASE_URL}/${imagePath.replace(/^\/+/, '')}`;
            console.log('üîó Constructed image URL:', fullUrl);
            return fullUrl;
        };
        
        // Test the function
        console.log('\n=== Testing Image URL Construction ===');
        getImageUrl('uploads/profiles/test.jpg');
        getImageUrl('/uploads/profiles/test.jpg');
        getImageUrl('http://example.com/test.jpg');
        getImageUrl(null);
        
        // Test fetching employees
        console.log('\n=== Testing Employee Fetch ===');
        fetch(`${API_BASE_URL}/api/getEmployees`)
            .then(response => {
                console.log('üì• Fetch response status:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('üì• Employee data:', data);
                console.log(`‚úÖ Successfully fetched ${data.employees?.length || 0} employees`);
                
                // Check for images
                let imageCount = 0;
                if (data.employees) {
                    data.employees.forEach((emp, index) => {
                        if (emp.profileImage || emp.profile_image) {
                            imageCount++;
                            console.log(`üë§ Employee ${index + 1} (${emp.full_name || emp.name}) - Profile Image:`, emp.profileImage || emp.profile_image);
                        }
                        if (emp.document_path) {
                            console.log(`üìÑ Employee ${index + 1} (${emp.full_name || emp.name}) - Document:`, emp.document_path);
                        }
                    });
                }
                
                if (imageCount === 0) {
                    console.log('‚ÑπÔ∏è No employees have profile images in the database');
                    console.log('‚ÑπÔ∏è This is why images are not displaying in the application');
                }
            })
            .catch(error => {
                console.error('‚ùå Error fetching employees:', error);
            });
    </script>
</body>
</html>